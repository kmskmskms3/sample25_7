package{	import FMGPhysics.PhysicalPoint;	import FMGPhysics.Draw;	import flash.display.MovieClip;	import flash.utils.Timer;	import flash.events.TimerEvent;	import flash.events.MouseEvent;	import flash.events.EventDispatcher;	import flash.events.Event;	import Btn;	public class Ball extends MovieClip{		public static const CUSTOM_EVENT2:String = "Ball.CUSTOM_EVENT2";		private var _parent:MovieClip;		private var _ball:MovieClip;		private var timer:Timer;		private var ppt :PhysicalPoint;		private var g_btn :gravity_btn;		private var m : Number= 10;	    private var _tff:Boolean;		private var chaos:Number;		private var xichi:Number;		private var yichi:Number;		private var _ballss:Array = new Array();		private var ppt_box:Array = new Array();	    	    public function set TFF(bool:Boolean):void{_tff = bool;}		 public function set TFF2(ram:Number):void{chaos = ram;}		 		 public function get XICHI():Number {return xichi;}		 public function get YICHI():Number {return yichi;}	    		public function Ball(p:MovieClip, x:uint, y:uint, c:uint,tff:Boolean):void{			//trace("ball created");						 ppt = new PhysicalPoint(x,y);			// ppt_box.push[ppt];			 //trace(ppt_box.length);			 _tff = tff;			// trace(tff+"_g");			_parent = p;			_ball = new MovieClip();			_ball.graphics.clear();			_ball.graphics.beginFill(0xFF00FF);			_ball.graphics.drawCircle(x-ppt.x, y-ppt.y, 5);			_ball.graphics.endFill();			_parent.addChild(_ball);						/*if(c > 0){				ppt_box.push[ppt];							for(var i:int=0;i<c;i++){								_ballss[i] = ppt_box[i];								trace(_ballss[_ballss.length-1]+"_ball");				trace(ppt_box +"ppt_box");				//_parent.addChild(_ballss);					}					//_ballss[_ballss.length-1].x = x					//_ballss[_ballss.length-1].y = y					//_parent.localToGlobal(_ballss[_ballss.length-1]);			}*/			//trace("番号は " + c);			 //ppt.x = ppt.x;			 //ppt.y = ppt.y;			 //xichi = ppt.x;			//yichi = ppt.y;			 //trace(ppt.x+"a");			 //trace(ppt.y+"b");						 // trace(_ballss.length+"length");			 //trace(_ball.y+"d");			 //g_btn.addEventListener(MouseEvent.CLICK,setGravity);			timer = new Timer(33);      		timer.addEventListener(TimerEvent.TIMER,loop, false, 0, true);      		timer.start();						//_ballss.push(_ball);			trace(c + "c");      		trace("Ball Created.");					}					/*function setGravity(event:MouseEvent){						};*/					private function loop(e:TimerEvent):void{						_ball.x = ppt.x;			_ball.y = ppt.y;						xichi = _ball.x;			yichi = _ball.y;						//trace(xichi + "a");			//trace(_ball.x + "b");			//Main.TFF3 = _ball.x;			//trace(tf+"x");			if(_tff == true){				var m :Number = _parent.mouseX/3;			} else{m = 0;}								ppt.gravity(m);			if(_tff == true){				var mz :Number = _parent.mouseY*0.5-_parent.mouseY;				var mmz: Number = _parent.mouseY - chaos*1000;				//trace(chaos*100);			} else {mz = 0;				mmz = 0;			}			ppt.setKasokudo(0,mz);			ppt.setKasokudoByPolar(mmz,mz);													//trace(_ballss.length + "a");			//_ballss[_ballss.length-1].x=_ball.x			//_ballss[_ballss.length-1].y=_ball.y			//trace(_ballss[0].x);						//  this.graphics.clear();      //this.graphics.lineStyle(2, 0x331100);     // Draw.drawCurve(_ball, this);								}	}}